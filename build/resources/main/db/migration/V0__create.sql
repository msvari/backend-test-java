
CREATE TABLE IF NOT EXISTS PUBLIC.VEHICLE (
    ID UUID NOT NULL,
    BRAND ENUM('AUDI', 'BMW', 'BUGATTI', 'BUGGY', 'BYD', 'CAOA_CHERY', 'CHEVROLET', 'CHRYSLER', 'CITROEN', 'DAEWOO', 'DODGE', 'FERRARI', 'FIAT', 'FORD', 'GMC', 'HARLEY_DAVIDSON', 'HONDA', 'HYUNDAI', 'IVECO', 'JAC', 'JAGUAR', 'JEEP', 'KIA', 'LEXUS', 'LIFAN', 'LOTUS', 'MAZDA', 'MCLAREN', 'YAMAHA'),
    COLOR ENUM('BLACK', 'BLUE', 'GRAY', 'GREEN', 'RED', 'SILVER','WHITE','YELLOW'),
    CREATE_DATE TIMESTAMP,
    LICENCE_PLATE VARCHAR(10),
    MODEL VARCHAR(255),
    "TYPE" ENUM('CAR', 'MOTORCYCLE'),
    UPDATE_DATE TIMESTAMP,
    CONSTRAINT VEHICLE_PK PRIMARY KEY ("ID")
);

CREATE TABLE IF NOT EXISTS PUBLIC.SPOT (
    ID UUID NOT NULL,
    CITY VARCHAR(255) NOT NULL,
    COMPLEMENT VARCHAR(255) NOT NULL,
    COUNTRY VARCHAR(255) NOT NULL,
    "NUMBER" VARCHAR(255) NOT NULL,
    STATE VARCHAR(255) NOT NULL,
    STREET VARCHAR(255) NOT NULL,
    ZIP_CODE VARCHAR(255),
    CAR_PARKING_SPACES BIGINT NOT NULL,
    CNPJ VARCHAR(255) NOT NULL,
    CREATE_DATE TIMESTAMP,
    MOTORCYCLE_PARKING_SPACES BIGINT NOT NULL,
    NAME VARCHAR(255) NOT NULL,
    PHONE_NUMBER VARCHAR(255) NOT NULL,
    UPDATE_DATE TIMESTAMP,
    CONSTRAINT SPOT_PK PRIMARY KEY ("ID")
);

CREATE TABLE IF NOT EXISTS PUBLIC.PARK (
    ID UUID NOT NULL,
    CREATE_DATE TIMESTAMP,
    ENTRY_DATE TIMESTAMP NOT NULL,
    EXIT_DATE TIMESTAMP,
    UPDATE_DATE TIMESTAMP,
    SPOT_ID UUID NOT NULL,
    VEHICLE_ID UUID NOT NULL,
    CONSTRAINT "park_pk" PRIMARY KEY ("ID"),
    CONSTRAINT "park_vehicle_unique" UNIQUE  ("VEHICLE_ID"),
    CONSTRAINT "park_spot_unique" UNIQUE  ("SPOT_ID")
);

ALTER TABLE PUBLIC.PARK ADD CONSTRAINT "PARK_SPOT_FK" FOREIGN KEY ("SPOT_ID") REFERENCES PUBLIC.SPOT("ID");
ALTER TABLE PUBLIC.PARK ADD CONSTRAINT "PARK_VEHICLE_FK" FOREIGN KEY ("VEHICLE_ID") REFERENCES PUBLIC.VEHICLE("ID");